<Page
    x:Class="SDKTemplate.Views.Espace_Prof.AddCurrentStudent"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SDKTemplate.Views.Espace_Prof"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Loaded="Page_Loaded"
    xmlns:data="using:SDKTemplate.Models"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="9*"></RowDefinition>
        </Grid.RowDefinitions>
        <TextBlock Style="{StaticResource BasicTextStyle}" Margin="50,15,0,0" FontSize="35" Text="Ajouter un éleve actuel :"></TextBlock>
        <Grid  BorderThickness="2" BorderBrush="{StaticResource ContentDialogBorderThemeBrush}" Grid.Row="1" Margin="20,5,20,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="4.2*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"></RowDefinition>
                <RowDefinition Height="8*"></RowDefinition>
            </Grid.RowDefinitions>

            <Grid Height="100" Margin="102,20,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="3.2*"></ColumnDefinition>
                    <ColumnDefinition Width="1.2*"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <TextBlock  Text="Nom et Prénom" Style="{StaticResource TitleTextBlockStyle}" FontSize="25" Grid.Column="0"></TextBlock>
                <TextBlock  Text="Numero" Style="{StaticResource TitleTextBlockStyle}" FontSize="25" Grid.Column="1"></TextBlock>
            </Grid>
            <Frame Height="2" Background="#707070"  VerticalAlignment="Bottom" Margin="20,0,0,0"></Frame>


            <GridView x:Name="FilteredListView"
                      Grid.Row="1"
                      ItemsSource="{x:Bind Students}" 
                      IsItemClickEnabled="True" 
                      ItemClick="FilteredListView_ItemClick"
                      >
                <GridView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <ItemsWrapGrid x:Name="MaxItemsWrapGrid"
                           MaximumRowsOrColumns="1"
                                       Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </GridView.ItemsPanel>

                <GridView.ItemTemplate>
                    <DataTemplate x:DataType="data:StudentAccount">
                        
                        <StackPanel x:Name="panel" Height="100" Width="1400" Margin="0,0,0,0"  Orientation="Horizontal">
                            <Grid Height="100" Width="1170" Margin="0,20,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="4*"></ColumnDefinition>
                                    <ColumnDefinition Width="1.2*"></ColumnDefinition>
                                    <ColumnDefinition Width="0.95*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <StackPanel Orientation="Horizontal" Grid.Column="0">
                                    <Image VerticalAlignment="Top" Source="/Images/Student.png" Width="50" Margin="30,0,20,10"></Image>
                                    <StackPanel >
                                        <TextBlock VerticalAlignment="Top" Style="{ThemeResource BaseTextBlockStyle}" FontSize="25" Margin="0,0,0,5">
                                            <Run Text="{x:Bind Name}"></Run>
                                            <Run Text="{x:Bind Surname}"></Run>
                                        </TextBlock>
                                        <TextBlock VerticalAlignment="Top" Text="{x:Bind School}" Style="{ThemeResource BaseTextBlockStyle}" FontSize="20" Margin="0,0,0,5"></TextBlock>
                                    </StackPanel>
                                </StackPanel>
                                <TextBlock Margin="12,0,0,0" Grid.Column="1" Text="{x:Bind PhoneNumber}" x:Name="Absence" Style="{ThemeResource BodyTextBlockStyle}" FontSize="21"></TextBlock>
                            </Grid>
                        </StackPanel>
                    </DataTemplate>
                </GridView.ItemTemplate>

            </GridView>
            <ListBox x:Name="ListView"  HorizontalAlignment="Right" Margin="50,10,50,50" Visibility="Collapsed" Background="Black" VerticalAlignment="Top" Width="250" Grid.Row="1" Height="80">
                <x:String>Ajouter un nouveau élève</x:String>
                <x:String>Ajouter un élève actuel</x:String>
            </ListBox>
            <StackPanel Grid.RowSpan="2" Margin="15" HorizontalAlignment="Stretch" Background="#171717" BorderBrush="#707070" BorderThickness="1" Grid.Column="1" >
                <TextBlock Text="Recherche :" Margin="20" Style="{StaticResource HeaderTextBlockStyle}" FontSize="20"></TextBlock>
                <AutoSuggestBox  TextChanged="Name_TextChanged" PlaceholderText="Nom" x:Name="Name" Margin="20,0,20,0" IsEnabled="True"></AutoSuggestBox>
                <AutoSuggestBox TextChanged="Name_TextChanged" PlaceholderText="Prénom" x:Name="Surname" Margin="20,30,20,0" ></AutoSuggestBox>
                <AutoSuggestBox TextChanged="Name_TextChanged" PlaceholderText="Lycée" x:Name="School" Margin="20,30,20,0" ></AutoSuggestBox>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
