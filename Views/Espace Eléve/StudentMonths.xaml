<Page
    x:Class="SDKTemplate.Views.Espace_Eléve.StudentMonths"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SDKTemplate.Views.Espace_Eléve"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:data="using:SDKTemplate.Models"
    xmlns:viewmodel="using:SDKTemplate.ViewModels"
    Loaded="Page_Loaded"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="3*"></RowDefinition>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2.5*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="2.5*"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>
            <StackPanel Orientation="Horizontal" Margin="40,20,0,0">
                <Image x:Name="StudentImage" Width="90" Margin="0,0,15,0" />
                <StackPanel>
                    <TextBlock Style="{ThemeResource TitleTextBlockStyle}" x:Name="Student" FontSize="35" ></TextBlock>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock x:Name="School" Style="{ThemeResource SubtitleTextBlockStyle}"  FontSize="25"></TextBlock>
                    </StackPanel>
                </StackPanel>
            </StackPanel>

            <StackPanel Orientation="Horizontal" Grid.Column="1" HorizontalAlignment="Right" Margin="0,0,30,0">
                <Image Width="70" Margin="40,20,20,0" Source="/Images/enseignant.png" />
                <StackPanel >
                    <TextBlock Style="{ThemeResource TitleTextBlockStyle}" x:Name="Prof" FontSize="40" Margin="0,40,0,0" ></TextBlock>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock x:Name="Subjct" Style="{ThemeResource SubtitleTextBlockStyle}"  FontSize="25"></TextBlock>
                        <TextBlock x:Name="Subj" Style="{ThemeResource SubtitleTextBlockStyle}"  FontSize="25"></TextBlock>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="20,10,0,0" >
                <Button Click="Button_Click"  Style="{ThemeResource DateTimePickerFlyoutButtonStyle}" Height="60"  FontSize="30">
                    <TextBlock Style="{StaticResource TitleTextBlockStyle}" Text="Paiement"></TextBlock>
                </Button>
                <Button Click="Button_Click_1"  Style="{ThemeResource DateTimePickerFlyoutButtonStyle}" Height="60" FontSize="30">
                    <TextBlock Style="{StaticResource TitleTextBlockStyle}" Text="Presence"></TextBlock>
                </Button>
                <Button Click="Button_Click_3"  Style="{ThemeResource DateTimePickerFlyoutButtonStyle}" Height="60" FontSize="30">
                    <TextBlock Style="{StaticResource TitleTextBlockStyle}" Text="Note"></TextBlock>
                </Button>
            </StackPanel>
            <StackPanel HorizontalAlignment="Right" Grid.Column="1" Orientation="Horizontal" Grid.Row="1" Margin="2,10,20,0" >
                <Button x:Name="SessionReturn" Click="SessionReturn_Click" Height="60" FontSize="30" Style="{ThemeResource AccentButtonStyle}" Margin="2,0,0,0">
                    <StackPanel Orientation="Horizontal">
                        <SymbolIcon Symbol="Back" Margin="5,0,10,0" ></SymbolIcon>
                        <TextBlock x:Name="SessionReturnText"  Style="{StaticResource TitleTextBlockStyle}"></TextBlock>
                    </StackPanel>
                </Button>
                <Button Click="Button_Click_2" Height="60" FontSize="30" Style="{ThemeResource AccentButtonStyle}" Margin="2,0,0,0">
                    <StackPanel Orientation="Horizontal">
                        <SymbolIcon Symbol="Back" Margin="5,0,10,0"></SymbolIcon>
                        <TextBlock Style="{StaticResource TitleTextBlockStyle}">
                            <Run Text="List des profs"></Run>
                        </TextBlock>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Grid>

        <Grid x:Name="PaymentGrid" BorderThickness="2" BorderBrush="{StaticResource ContentDialogBorderThemeBrush}" Grid.Row="1" Margin="20,0,20,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="4.2*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"></RowDefinition>
                <RowDefinition Height="5.5*"></RowDefinition>
            </Grid.RowDefinitions>

            <Grid Height="100" Margin="0,30,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="4.1*"></ColumnDefinition>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <TextBlock Margin="100,0,0,0" Text="Nom et Prénom" Style="{StaticResource TitleTextBlockStyle}" FontSize="25" Grid.Column="0"></TextBlock>
                <TextBlock HorizontalAlignment="Center"  Text="Group" Style="{StaticResource TitleTextBlockStyle}" FontSize="25" Grid.Column="1"></TextBlock>
                <TextBlock HorizontalAlignment="Center" Text="Montant" Style="{StaticResource TitleTextBlockStyle}" FontSize="25" Grid.Column="2"></TextBlock>
                <TextBlock Margin="-40,0,0,0" HorizontalAlignment="Center" Text="Payez" Style="{StaticResource TitleTextBlockStyle}" FontSize="25" Grid.Column="3"></TextBlock>
            </Grid>
            <Frame Height="2" Background="#707070"  VerticalAlignment="Bottom" Margin="80,0,50,0"></Frame>


            <GridView x:Name="FilteredListView"
                      Grid.Row="1"
                      ItemsSource="{x:Bind PaymentMonths}" 
                      SelectionMode="None"
                      >
                <GridView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <ItemsWrapGrid x:Name="MaxItemsWrapGrid"
                           MaximumRowsOrColumns="1"
                                       Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </GridView.ItemsPanel>

                <GridView.ItemTemplate>
                    <DataTemplate x:DataType="data:Month">

                        <StackPanel x:Name="panel" Height="100" Width="1400" Margin="0,0,0,0"  Orientation="Horizontal">
                            <Grid Height="100" Width="1080" Margin="0,20,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="4.5*"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <StackPanel Orientation="Horizontal" Grid.Column="0">
                                    <Image VerticalAlignment="Top" Source="/Images/MonthIcon.png" Width="50" Margin="30,6,20,10"></Image>
                                    <StackPanel >
                                        <TextBlock VerticalAlignment="Top" Style="{ThemeResource BaseTextBlockStyle}" FontSize="25" Margin="0,0,0,5">
                                            
                                            <Run Text="{x:Bind MonthName}"></Run>
                                        </TextBlock>
                                        <TextBlock VerticalAlignment="Top" Style="{ThemeResource BaseTextBlockStyle}" FontSize="20" Margin="0,0,0,5">
                                            <Run Text="Nombre de séances : " > </Run>
                                            <Run Text="{x:Bind NumberSessions}"> </Run>
                                        </TextBlock>
                                    </StackPanel>
                                </StackPanel>
                                <TextBlock Grid.Column="1" HorizontalAlignment="Center"  Style="{ThemeResource BodyTextBlockStyle}" FontSize="21">
                                    <Run Text="{Binding GroupName}"></Run>
                                </TextBlock>
                                <TextBlock HorizontalAlignment="Center" Grid.Column="2"  x:Name="Absence" Style="{ThemeResource BodyTextBlockStyle}" FontSize="21">
                                    <Run Text="{Binding WantedMoney}"></Run>
                                </TextBlock>
                                <TextBlock Text="Payé" Margin="0,5,0,0" HorizontalAlignment="Center" Foreground="Green" Visibility="{x:Bind Collapsed}" Style="{StaticResource SeparatorStyle}" FontSize="15" Grid.Column="3" VerticalAlignment="Top" />
                                <ToggleButton Margin="10,5,10,0" Name="{x:Bind Slug}"  Tag="{x:Bind GroupName}"  Visibility="{x:Bind Visibilty}" Click="ToggleButton_Click"  Style="{StaticResource ToggleButtonRevealStyle}" HorizontalAlignment="Stretch" Grid.Column="3" VerticalAlignment="Top">
                                    <TextBlock Foreground="{x:Bind Color}" >
                                        <Run Text="Payez"></Run>
                                        <Run Text="{x:Bind Montant}"></Run>
                                        <Run Text="DT"></Run>
                                    </TextBlock>
                                </ToggleButton>
                            </Grid>
                        </StackPanel>
                    </DataTemplate>
                </GridView.ItemTemplate>

            </GridView>
            <StackPanel Grid.RowSpan="2" Margin="15" HorizontalAlignment="Stretch" Background="#171717" BorderBrush="#707070" BorderThickness="1" Grid.Column="1" >
                <TextBlock Text="Recherche :" Margin="20" Style="{StaticResource HeaderTextBlockStyle}" FontSize="20"></TextBlock>
                <AutoSuggestBox TextChanged="Name_TextChanged" PlaceholderText="Mois" x:Name="MonthName" Margin="20,0,20,0" ></AutoSuggestBox>
            </StackPanel>
        </Grid>
        <Grid BorderBrush="{StaticResource ContentDialogBorderThemeBrush}" x:Name="PresenceGrid" BorderThickness="2" Grid.Row="1" Margin="20,0,20,20">
            <GridView x:Name="HoraireListView"
                      Grid.Row="1"
                      Margin="20"  
                      ItemsSource="{x:Bind PresenceMonths}" 
                      ItemClick="HoraireListView_ItemClick"
                      IsItemClickEnabled="True"            
                >

                <GridView.ItemTemplate>
                    <DataTemplate x:DataType="data:Month">

                        <StackPanel x:Name="TimeLinePanel" Height="180" Width="365">
                            <StackPanel Orientation="Horizontal">
                                <Image Source="/Images/MonthIcon.png" Width="40" Margin="30,25,20,10"></Image>
                                <TextBlock Style="{ThemeResource BaseTextBlockStyle}" Margin="0,35,0,5">      
                                    <Run Text="{x:Bind MonthName}" FontSize="21"></Run>
                                </TextBlock>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal"  Margin="30,5,0,5">
                                <TextBlock x:Name="Subject"    Style="{ThemeResource BodyTextBlockStyle}" FontSize="21">
                                    <Run Text="Nombre de séances : " > </Run>
                                    <Run Text="{x:Bind NumberSessions}" > </Run>
                                </TextBlock>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal"  Margin="30,5,0,5">
                                <TextBlock  Style="{ThemeResource BodyTextBlockStyle}" FontSize="21">
                                    <Run Text="Année scolaire : " > </Run>
                                    <Run Text="{x:Bind SchoolYear}" > </Run>
                                </TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </DataTemplate>
                </GridView.ItemTemplate>

            </GridView>
        </Grid>
        <Grid Grid.Row="1" x:Name="Receipt">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"></RowDefinition>
                <RowDefinition Height="3*"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="2*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Frame BorderBrush="{StaticResource ContentDialogBorderThemeBrush}" BorderThickness="2"  Grid.Row="1" Grid.Column="1" x:Name="Add" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" Padding="0,0,2,2"/>
        </Grid>
        <Frame Padding="0,0,2,2"  x:Name="StudentSessions" BorderThickness="2" BorderBrush="{StaticResource ContentDialogBorderThemeBrush}" Grid.Row="1" Margin="20,0,20,20" />
    </Grid>
</Page>
