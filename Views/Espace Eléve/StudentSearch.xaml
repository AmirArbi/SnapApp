<Page
    x:Class="SDKTemplate.Views.Espace_Eléve.StudentSearch"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SDKTemplate.Views.Espace_Eléve"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Loaded="Page_Loaded"
    xmlns:data="using:SDKTemplate.Models"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="5.8*"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" Margin="80,50,80,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <AutoSuggestBox PlaceholderText="Entrez un Nom" 
                            TextChanged="AutoSuggestBox_TextChanged"
                            QueryIcon="Find"
                            Grid.Column="0"
                            x:Name="Name"
                            HorizontalAlignment="Stretch"
                            Margin="50,5,50,0"
                                />
            <AutoSuggestBox PlaceholderText="Entrez un Prénom" 
                            x:Name="Surname"
                            Grid.Column="1"
                            TextChanged="AutoSuggestBox_TextChanged"
                            QueryIcon="Find"
                            HorizontalAlignment="Stretch"
                            Margin="50,5,50,0"/>

            <AutoSuggestBox PlaceholderText="Entrez un Lycée" 
                            TextChanged="AutoSuggestBox_TextChanged"
                            QueryIcon="Find"
                            x:Name="School"
                            Margin="50,5,50,0"
                            Grid.Column="2"
                            HorizontalAlignment="Stretch"/>
            <Frame Margin="150,0,150,0" Grid.ColumnSpan="3" VerticalAlignment="Bottom" Height="2" Style="{StaticResource HandwritingViewCandidateStyle}" HorizontalAlignment="Stretch"></Frame>
        </Grid>
        
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>

            <GridView x:Name="FilteredListView"
                      Grid.Row="1"
                      Margin="20,10,20,10"  
                      ItemsSource="{x:Bind accounts}"     
                      IsItemClickEnabled="True"
                      ItemClick="FilteredListView_ItemClick"
                      HorizontalAlignment="Center"
                >
                <GridView.ItemTemplate>
                    <DataTemplate x:DataType="data:StudentAccount">

                        <StackPanel x:Name="panel" Height="180" Width="420" Loaded="panel_Loaded">
                            <StackPanel Orientation="Horizontal">
                                <Image Source="{x:Bind Image}" Width="40" Margin="30,30,10,5"></Image>
                                <TextBlock Style="{ThemeResource BaseTextBlockStyle}" Margin="0,35,0,5">      
                                    <Run Text="{x:Bind Name}" FontSize="21"></Run>
                                    <Run Text="{x:Bind Surname}" FontSize="21"></Run>
                                </TextBlock>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal"  Margin="30,5,0,5">
                                <TextBlock x:Name="Subject"    Style="{ThemeResource BodyTextBlockStyle}" FontSize="21">
                                    <Run Text="Lycée : "></Run>
                                    <Run Text="{x:Bind School}"></Run>
                                </TextBlock>
                            </StackPanel>


                            <StackPanel Orientation="Horizontal"  Margin="30,5,0,5">
                                <TextBlock Text="Numero : " x:Name="Formule"   Style="{ThemeResource BodyTextBlockStyle}" FontSize="21" Margin="0,0,10,0"></TextBlock>
                                <TextBlock Text="{x:Bind PhoneNumber}" FontSize="21"></TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </DataTemplate>
                </GridView.ItemTemplate>

            </GridView>
        </Grid>

    </Grid>
</Page>
